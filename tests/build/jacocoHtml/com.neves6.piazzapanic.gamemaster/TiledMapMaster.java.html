<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TiledMapMaster.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">tests</a> &gt; <a href="index.source.html" class="el_package">com.neves6.piazzapanic.gamemaster</a> &gt; <span class="el_source">TiledMapMaster.java</span></div><h1>TiledMapMaster.java</h1><pre class="source lang-java linenums">package com.neves6.piazzapanic.gamemaster;

import com.badlogic.gdx.maps.MapLayer;
import com.badlogic.gdx.maps.MapObject;
import com.badlogic.gdx.maps.MapObjects;
import com.badlogic.gdx.maps.objects.RectangleMapObject;
import com.badlogic.gdx.maps.tiled.TiledMap;
import com.badlogic.gdx.math.Rectangle;

public class TiledMapMaster {
  TiledMap map;
  int tileWidth;

<span class="fc" id="L14">  public TiledMapMaster(TiledMap map) {</span>
<span class="fc" id="L15">    this.map = map;</span>
    // It is a square hence, width = height, just get one.
<span class="fc" id="L17">    tileWidth = (int) map.getProperties().get(&quot;tilewidth&quot;);</span>
<span class="fc" id="L18">  }</span>
  /**
   * Helper method used to get the objects from a layer using its key.
   *
   * @param key Name of the layer.
   * @return All objects from the layer indicated by the key.
   */
  public MapObjects getObjectLayers(String key) {
<span class="fc" id="L26">    MapLayer unlockLayer = map.getLayers().get(key);</span>
<span class="fc" id="L27">    return unlockLayer.getObjects();</span>
  }

  /**
   * Converts the tiled map coordinates into the game coordinates then compares it to the target x
   * and target y, to check whether the rectangle is being interacted with.
   *
   * @param object A tiled map representation of an point on the map.
   * @param xcoord A game x coordinate.
   * @param ycoord A game y coordinate.
   * @return Boolean value representing whether the coordinates passed in are the coordinates of the
   *     rectangle passed in.
   */
  public Boolean detectInteractionFromTiledObject(Rectangle object, int xcoord, int ycoord) {
<span class="fc bfc" id="L41" title="All 2 branches covered.">    return xcoord == Math.round(object.getX() / tileWidth)</span>
<span class="fc bfc" id="L42" title="All 2 branches covered.">        &amp;&amp; ycoord == Math.round(object.getY() / tileWidth);</span>
  }

  /**
   * Helper method to convert a map object to a rectangle map object.
   *
   * @param object A single part of a layer of the map.
   * @return Returns a rectangle representing the object.
   */
  public Rectangle loadRectangle(MapObject object) {
<span class="fc" id="L52">    RectangleMapObject rectangleMapObject = (RectangleMapObject) object;</span>
    // Now you can get the position of the rectangle like this:
<span class="fc" id="L54">    return rectangleMapObject.getRectangle();</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>