


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > ScenarioGameMaster</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.neves6.piazzapanic</a>
</div>

<h1>Coverage Summary for Class: ScenarioGameMaster (com.neves6.piazzapanic)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">ScenarioGameMaster</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    31.2%
  </span>
  <span class="absValue">
    (5/16)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    26.7%
  </span>
  <span class="absValue">
    (86/322)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.neves6.piazzapanic;
&nbsp;
&nbsp;import com.badlogic.gdx.Gdx;
&nbsp;import com.badlogic.gdx.audio.Sound;
&nbsp;import com.badlogic.gdx.maps.tiled.TiledMap;
&nbsp;import com.badlogic.gdx.maps.tiled.TiledMapTileLayer;
&nbsp;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Stack;
&nbsp;import java.util.concurrent.ThreadLocalRandom;
&nbsp;
&nbsp;import static java.util.Arrays.asList;
&nbsp;
&nbsp;public class ScenarioGameMaster extends GameMaster {
&nbsp;    PiazzaPanicGame game;
&nbsp;    TiledMap map;
&nbsp;    TiledMapTileLayer collisionLayer;
<b class="fc">&nbsp;    ArrayList&lt;Chef&gt; chefs = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;    Stack&lt;Customer&gt; customers = new Stack&lt;&gt;();</b>
<b class="fc">&nbsp;    ArrayList&lt;Machine&gt; machines = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;    ArrayList&lt;String&gt; tray1 = new ArrayList&lt;&gt;();</b>
<b class="fc">&nbsp;    ArrayList&lt;String&gt; tray2 = new ArrayList&lt;&gt;();</b>
&nbsp;    int selectedChef;
&nbsp;    float totalTimer;
&nbsp;    Sound grill;
&nbsp;    Sound chopping;
&nbsp;    Sound serving;
&nbsp;    Sound fridge;
&nbsp;    Sound forming;
&nbsp;    Sound trash;
&nbsp;    float soundVolume;
&nbsp;    ArrayList&lt;String&gt; settings;
&nbsp;    Money machineUnlockBalance;
<b class="fc">&nbsp;    ArrayList&lt;String&gt; recipes = new ArrayList&lt;&gt;(asList(&quot;salad&quot;, &quot;hamburger&quot;, &quot;jacket potato&quot;, &quot;pizza&quot;));</b>
&nbsp;
&nbsp;    /**
&nbsp;     * ScenarioGameMaster constructor.
&nbsp;     *
&nbsp;     * @param game                 PiazzaPanicGame instance.
&nbsp;     * @param map                  TiledMap instance.
&nbsp;     * @param chefno               Number of chefs.
&nbsp;     * @param custno               Number of customers.
&nbsp;     * @param machineUnlockBalance
&nbsp;     */
<b class="fc">&nbsp;    public ScenarioGameMaster(PiazzaPanicGame game, TiledMap map, int chefno, int custno, Money machineUnlockBalance) {</b>
<b class="fc">&nbsp;        this.machineUnlockBalance = machineUnlockBalance;</b>
<b class="fc">&nbsp;        this.game = game;</b>
<b class="fc">&nbsp;        settings = Utility.getSettings();</b>
<b class="fc">&nbsp;        this.map = map;</b>
<b class="fc">&nbsp;        collisionLayer = (TiledMapTileLayer) map.getLayers().get(3);</b>
<b class="fc">&nbsp;        for (int i = 0; i &lt; chefno; i++) {</b>
<b class="fc">&nbsp;            chefs.add(new Chef(&quot;Chef&quot;, 6+i, 5, 1, 1, 1, false, new Stack&lt;String&gt;(), i+1));</b>
&nbsp;        }
<b class="fc">&nbsp;        for (int i = 0; i &lt; custno; i++) {</b>
<b class="fc">&nbsp;            int randomNum = ThreadLocalRandom.current().nextInt(0, 4);</b>
<b class="fc">&nbsp;            customers.add(new Customer(&quot;Customer&quot; + (i+1), -1, -1, recipes.get(randomNum)));</b>
&nbsp;        }
<b class="fc">&nbsp;        totalTimer = 0f;</b>
&nbsp;        
&nbsp;        //Assessment 1 (index 0-16)
<b class="fc">&nbsp;        machines.add(new Machine(&quot;fridge-meat&quot;, &quot;&quot;, &quot;meat&quot;, 0, false));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;fridge-tomato&quot;, &quot;&quot;, &quot;tomato&quot;, 0, false));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;fridge-lettuce&quot;, &quot;&quot;, &quot;lettuce&quot;, 0, false));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;fridge-onion&quot;, &quot;&quot;, &quot;onion&quot;, 0, false));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;fridge-bun&quot;, &quot;&quot;, &quot;bun&quot;, 0, false));</b>
&nbsp;        
<b class="fc">&nbsp;        machineUnlockBalance.addGroup(&quot;grill&quot;, 100);</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;grill-patty-1&quot;, &quot;patty&quot;, &quot;burger&quot;, 3, true));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;grill-patty-2&quot;, &quot;patty&quot;, &quot;burger&quot;, 3, true, &quot;grill&quot;));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;grill-bun-1&quot;, &quot;bun&quot;, &quot;toasted bun&quot;, 3, true));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;grill-bun-2&quot;, &quot;bun&quot;, &quot;toasted bun&quot;, 3, true, &quot;grill&quot;));</b>
&nbsp;        
<b class="fc">&nbsp;        machineUnlockBalance.addGroup(&quot;forming&quot;, 50);</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;forming-1&quot;, &quot;meat&quot;, &quot;patty&quot;, 3, true));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;forming-2&quot;, &quot;meat&quot;, &quot;patty&quot;, 3, true, &quot;forming&quot;));</b>
&nbsp;        
<b class="fc">&nbsp;        machineUnlockBalance.addGroup(&quot;chopping&quot;, 50);</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;chopping-tomato-1&quot;, &quot;tomato&quot;, &quot;chopped tomato&quot;, 3, true));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;chopping-tomato-2&quot;, &quot;tomato&quot;, &quot;chopped tomato&quot;, 3, true, &quot;chopping&quot;));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;chopping-lettuce-1&quot;, &quot;lettuce&quot;, &quot;chopped lettuce&quot;, 3, true));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;chopping-lettuce-2&quot;, &quot;lettuce&quot;, &quot;chopped lettuce&quot;, 3, true, &quot;chopping&quot;));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;chopping-onion-1&quot;, &quot;onion&quot;, &quot;chopped onion&quot;, 3, true));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;chopping-onion-2&quot;, &quot;onion&quot;, &quot;chopped onion&quot;, 3, true, &quot;chopping&quot;));</b>
&nbsp;        
&nbsp;        //Assessment 2 (index 17-24)
<b class="fc">&nbsp;        machines.add(new Machine(&quot;fridge-dough&quot;, &quot;&quot;, &quot;dough&quot;, 0, false));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;fridge-cheese&quot;, &quot;&quot;, &quot;cheese&quot;, 0, false));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;fridge-potato&quot;, &quot;&quot;, &quot;potato&quot;, 0, false));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;fridge-beans&quot;, &quot;&quot;, &quot;beans&quot;, 0, false));</b>
&nbsp;
<b class="fc">&nbsp;        machineUnlockBalance.addGroup(&quot;potato&quot;, 150);</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;oven-potato-1&quot;, &quot;potato&quot;, &quot;jacket&quot;, 3, true));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;oven-potato-2&quot;, &quot;potato&quot;, &quot;jacket&quot;, 3, true, &quot;potato&quot;));</b>
&nbsp;
<b class="fc">&nbsp;        machineUnlockBalance.addGroup(&quot;pizza&quot;, 150);</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;oven-pizza-1&quot;, &quot;raw pizza&quot;, &quot;pizza&quot;, 3, true));</b>
<b class="fc">&nbsp;        machines.add(new Machine(&quot;oven-pizza-2&quot;, &quot;raw pizza&quot;, &quot;pizza&quot;, 3, true, &quot;pizza&quot;));</b>
&nbsp;
&nbsp;        // disposal and tray/serving handled separately
&nbsp;
<b class="fc">&nbsp;        grill = Gdx.audio.newSound(Gdx.files.internal(&quot;sounds/grill.mp3&quot;));</b>
<b class="fc">&nbsp;        chopping = Gdx.audio.newSound(Gdx.files.internal(&quot;sounds/chopping.mp3&quot;));</b>
<b class="fc">&nbsp;        serving = Gdx.audio.newSound(Gdx.files.internal(&quot;sounds/serving.mp3&quot;));</b>
<b class="fc">&nbsp;        fridge = Gdx.audio.newSound(Gdx.files.internal(&quot;sounds/fridge.mp3&quot;));</b>
<b class="fc">&nbsp;        forming = Gdx.audio.newSound(Gdx.files.internal(&quot;sounds/forming.mp3&quot;));</b>
<b class="fc">&nbsp;        trash = Gdx.audio.newSound(Gdx.files.internal(&quot;sounds/trash.mp3&quot;));</b>
&nbsp;
<b class="fc">&nbsp;        switch (settings.get(1).trim()){</b>
&nbsp;            case &quot;full&quot;:
<b class="nc">&nbsp;                soundVolume = 1f;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            case &quot;half&quot;:
<b class="nc">&nbsp;                soundVolume = 0.5f;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            case &quot;none&quot;:
<b class="fc">&nbsp;                soundVolume = 0f;</b>
&nbsp;                break;
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void setSelectedChef(int selectedChef) {
<b class="nc">&nbsp;        this.selectedChef = selectedChef - 1;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;    public int getSelectedChef() {
<b class="nc">&nbsp;        return selectedChef + 1;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Chef getChef(int i){
<b class="fc">&nbsp;        return chefs.get(i-1);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Attempts to move the currently selected chef in a specified direction.
&nbsp;     * @param direction Direction to move.
&nbsp;     */
&nbsp;    public void tryMove(String direction){
<b class="fc">&nbsp;        Chef chef = chefs.get(selectedChef);</b>
<b class="fc">&nbsp;        switch (direction) {</b>
&nbsp;            case &quot;up&quot;:
<b class="fc">&nbsp;                if (wouldNotCollide(chef.getxCoord(), chef.getyCoord() + 1, selectedChef)) {</b>
<b class="fc">&nbsp;                    chef.alteryCoord(+1);</b>
&nbsp;                }
<b class="fc">&nbsp;                chef.setFacing(&quot;up&quot;);</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            case &quot;down&quot;:
<b class="fc">&nbsp;                if (wouldNotCollide(chef.getxCoord(), chef.getyCoord() - 1, selectedChef)) {</b>
<b class="fc">&nbsp;                    chef.alteryCoord(-1);</b>
&nbsp;                }
<b class="fc">&nbsp;                chef.setFacing(&quot;down&quot;);</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            case &quot;left&quot;:
<b class="fc">&nbsp;                if (wouldNotCollide(chef.getxCoord() - 1, chef.getyCoord(), selectedChef)) {</b>
<b class="fc">&nbsp;                    chef.alterxCoord(-1);</b>
&nbsp;                }
<b class="fc">&nbsp;                chef.setFacing(&quot;left&quot;);</b>
<b class="fc">&nbsp;                break;</b>
&nbsp;            case &quot;right&quot;:
<b class="fc">&nbsp;                if (wouldNotCollide(chef.getxCoord() + 1, chef.getyCoord(), selectedChef)) {</b>
<b class="fc">&nbsp;                    chef.alterxCoord(+1);</b>
&nbsp;                }
<b class="fc">&nbsp;                chef.setFacing(&quot;right&quot;);</b>
&nbsp;                break;
&nbsp;        }
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Checks collision with the collision layer, other chefs, and being stickied.
&nbsp;     * @param x x coordinate to check.
&nbsp;     * @param y y coordinate to check.
&nbsp;     * @param chefno chef number to check.
&nbsp;     * @return true if the chef would not collide, false otherwise.
&nbsp;     */
&nbsp;    private boolean wouldNotCollide(int x, int y, int chefno) {
<b class="fc">&nbsp;        if (chefs.get(chefno).getIsStickied()) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
<b class="fc">&nbsp;        for (int i = 0; i &lt; chefs.size(); i++){</b>
<b class="fc">&nbsp;            if (i != chefno &amp;&amp; chefs.get(i).getxCoord() == x &amp;&amp; chefs.get(i).getyCoord() == y){</b>
<b class="nc">&nbsp;                return false;</b>
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        int tempCellTileID = collisionLayer.getCell(x, y).getTile().getId();</b>
<b class="fc">&nbsp;        return tempCellTileID != 37 &amp;&amp; tempCellTileID != 39;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Generates the display text for the chefs&#39; inventories.
&nbsp;     * @return String containing the display text.
&nbsp;     */
&nbsp;    public String generateHoldingsText() {
<b class="fc">&nbsp;        String comp = &quot;&quot;;</b>
<b class="fc">&nbsp;        for (int i = 0; i &lt; chefs.size(); i++) {</b>
<b class="fc">&nbsp;            comp += &quot;Chef &quot; + (i+1) +&quot; is holding:\n&quot;;</b>
<b class="fc">&nbsp;            comp += chefs.get(i).getInventory().toString() + &quot;\n&quot;;</b>
&nbsp;        }
<b class="fc">&nbsp;        return comp;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Generates the display text for the customers&#39; tray and order.
&nbsp;     * @return String containing the display text.
&nbsp;     */
&nbsp;    public String generateCustomersTrayText() {
<b class="nc">&nbsp;        String comp = &quot;&quot;;</b>
<b class="nc">&nbsp;        comp += &quot;Customers remaining: &quot;;</b>
<b class="nc">&nbsp;        comp += customers.size();</b>
<b class="nc">&nbsp;        if (customers.size() &gt; 0) {</b>
<b class="nc">&nbsp;            comp += &quot;\nOrder: &quot;;</b>
<b class="nc">&nbsp;            comp += customers.get(0).getOrder();</b>
&nbsp;
&nbsp;        }
<b class="nc">&nbsp;        comp += &quot;\nTray 1 contents: &quot;;</b>
<b class="nc">&nbsp;        comp += tray1.toString();</b>
<b class="nc">&nbsp;        comp += &quot;\nTray 2 contents: &quot;;</b>
<b class="nc">&nbsp;        comp += tray2.toString();</b>
<b class="nc">&nbsp;        return comp;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Generates the display text for the timer.
&nbsp;     * @return String containing the display text.
&nbsp;     */
&nbsp;    public String generateTimerText(){
<b class="nc">&nbsp;        String comp = &quot;&quot;;</b>
<b class="nc">&nbsp;        comp += &quot;Time elapsed: &quot;;</b>
<b class="nc">&nbsp;        comp += (int) totalTimer;</b>
<b class="nc">&nbsp;        comp += &quot; s&quot;;</b>
<b class="nc">&nbsp;        return comp;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Generates the display text for the chef&#39;s timer.
&nbsp;     * @param chefno chef number to check.
&nbsp;     * @return String containing the display text.
&nbsp;     */
&nbsp;    public String getMachineTimerForChef(int chefno) {
<b class="nc">&nbsp;        Chef chef = chefs.get(chefno);</b>
<b class="nc">&nbsp;        if (chef.getMachineInteractingWith() != null) {</b>
<b class="nc">&nbsp;            Machine machine = chef.getMachineInteractingWith();</b>
<b class="nc">&nbsp;            return ((int) (machine.getProcessingTime() - machine.getRuntime() + 1)) + &quot;&quot;;</b>
&nbsp;        } else {
<b class="nc">&nbsp;            return &quot;&quot;;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public int getCustomersRemaining(){
<b class="nc">&nbsp;        return customers.size();</b>
&nbsp;    }
&nbsp;
&nbsp;    public Customer getFirstCustomer() {
<b class="nc">&nbsp;        return customers.get(0);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Updates timers on all machines and the total timer.
&nbsp;     * To be called every frame render.
&nbsp;     * @param delta time since last frame.
&nbsp;     */
&nbsp;    public void tickUpdate(float delta) {
&nbsp;        //TODO: Use increment variable to handle powerup -
&nbsp;        // just use get delta everytime.
<b class="nc">&nbsp;        float increment = delta;</b>
<b class="nc">&nbsp;        for (Machine machine : machines) {</b>
<b class="nc">&nbsp;            if (machine.getActive()) {</b>
<b class="nc">&nbsp;                machine.incrementRuntime(delta);</b>
<b class="nc">&nbsp;                machine.attemptGetOutput();</b>
&nbsp;            }
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        totalTimer += increment;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Attempts to cause an interaction between the currently selected chef and the machine in front of them.
&nbsp;     */
&nbsp;    public void tryInteract() {
<b class="nc">&nbsp;        Chef chef = chefs.get(selectedChef);</b>
<b class="nc">&nbsp;        if (chef.getIsStickied()) {</b>
<b class="nc">&nbsp;            return;</b>
&nbsp;        }
&nbsp;        int targetx;
&nbsp;        int targety;
<b class="nc">&nbsp;        switch (chef.getFacing()) {</b>
&nbsp;            case &quot;up&quot;:
<b class="nc">&nbsp;                targetx = chef.getxCoord();</b>
<b class="nc">&nbsp;                targety = chef.getyCoord() + 1;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            case &quot;down&quot;:
<b class="nc">&nbsp;                targetx = chef.getxCoord();</b>
<b class="nc">&nbsp;                targety = chef.getyCoord() - 1;</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            case &quot;left&quot;:
<b class="nc">&nbsp;                targetx = chef.getxCoord() - 1;</b>
<b class="nc">&nbsp;                targety = chef.getyCoord();</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            case &quot;right&quot;:
<b class="nc">&nbsp;                targetx = chef.getxCoord() + 1;</b>
<b class="nc">&nbsp;                targety = chef.getyCoord();</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            default:
<b class="nc">&nbsp;                targetx = chef.getxCoord();</b>
<b class="nc">&nbsp;                targety = chef.getyCoord();</b>
&nbsp;                break;
&nbsp;        }
&nbsp;        // Unlock machines even if you don&#39;t have anything in your stack.
<b class="nc">&nbsp;        if (targetx == 10 &amp;&amp; targety == 7) {</b>
<b class="nc">&nbsp;            machineUnlockBalance.unlockMachine(&quot;forming&quot;);</b>
<b class="nc">&nbsp;            return;</b>
<b class="nc">&nbsp;        } else if (targetx == 12 &amp;&amp; targety == 7) {</b>
<b class="nc">&nbsp;            machineUnlockBalance.unlockMachine(&quot;chopping&quot;);</b>
<b class="nc">&nbsp;            return;</b>
<b class="nc">&nbsp;        } else if (targetx == 7 &amp;&amp; targety == 7) {</b>
<b class="nc">&nbsp;            machineUnlockBalance.unlockMachine(&quot;grill&quot;);</b>
<b class="nc">&nbsp;            return;</b>
<b class="nc">&nbsp;        } else if (targetx == 14 &amp;&amp; targety == 6) {</b>
<b class="nc">&nbsp;            machineUnlockBalance.unlockMachine(&quot;potato&quot;);</b>
<b class="nc">&nbsp;            return;</b>
<b class="nc">&nbsp;        } else if (targetx == 1 &amp;&amp; targety == 6) {</b>
<b class="nc">&nbsp;            machineUnlockBalance.unlockMachine(&quot;pizza&quot;);</b>
<b class="nc">&nbsp;            return;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (chef.getInventory().empty()) {</b>
<b class="nc">&nbsp;            if (targetx == 1 &amp;&amp; targety == 10) {</b>
<b class="nc">&nbsp;                machines.get(0).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                fridge.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (targetx == 2 &amp;&amp; targety == 10) {</b>
<b class="nc">&nbsp;                machines.get(1).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                fridge.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (targetx == 3 &amp;&amp; targety == 10) {</b>
<b class="nc">&nbsp;                machines.get(2).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                fridge.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (targetx == 4 &amp;&amp; targety == 10) {</b>
<b class="nc">&nbsp;                machines.get(3).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                fridge.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (targetx == 1 &amp;&amp; targety == 8) {</b>
<b class="nc">&nbsp;                machines.get(4).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                fridge.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (targetx == 4 &amp;&amp; targety == 8) {</b>
<b class="nc">&nbsp;                machines.get(17).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                fridge.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (targetx == 5 &amp;&amp; targety == 10) {</b>
<b class="nc">&nbsp;                machines.get(18).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                fridge.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (targetx == 6 &amp;&amp; targety == 10) {</b>
<b class="nc">&nbsp;                machines.get(19).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                fridge.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (targetx == 7 &amp;&amp; targety == 10) {</b>
<b class="nc">&nbsp;                machines.get(20).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                fridge.play(soundVolume);</b>
<b class="nc">&nbsp;            } else { return; }</b>
&nbsp;        }
&nbsp;        //Work stations
<b class="nc">&nbsp;        String invTop = chef.getInventory().peek();</b>
<b class="nc">&nbsp;        if (targetx == 6 &amp;&amp; targety == 7) {</b>
<b class="nc">&nbsp;            if (invTop == &quot;patty&quot;) {</b>
<b class="nc">&nbsp;                machines.get(5).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                grill.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (invTop == &quot;bun&quot;) {</b>
<b class="nc">&nbsp;                machines.get(7).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                grill.play(soundVolume);</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (targetx == 7 &amp;&amp; targety == 7) {</b>
<b class="nc">&nbsp;            if (invTop == &quot;patty&quot;) {</b>
<b class="nc">&nbsp;                machines.get(6).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                grill.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (invTop == &quot;bun&quot;) {</b>
<b class="nc">&nbsp;                machines.get(8).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                grill.play(soundVolume);</b>
&nbsp;            }
&nbsp;            // Forming stations.
<b class="nc">&nbsp;        } else if (targetx == 9 &amp;&amp; targety == 7) {</b>
<b class="nc">&nbsp;            machines.get(9).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;            forming.play(soundVolume);</b>
<b class="nc">&nbsp;        } else if (targetx == 10 &amp;&amp; targety == 7) {</b>
<b class="nc">&nbsp;            machines.get(10).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;            forming.play(soundVolume);</b>
<b class="nc">&nbsp;        } else if (targetx == 11 &amp;&amp; targety == 7) {</b>
<b class="nc">&nbsp;            if (invTop == &quot;tomato&quot;) {</b>
<b class="nc">&nbsp;                machines.get(11).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                chopping.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (invTop == &quot;lettuce&quot;) {</b>
<b class="nc">&nbsp;                machines.get(13).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                chopping.play(soundVolume);</b>
<b class="nc">&nbsp;            } else if (invTop == &quot;onion&quot;) {</b>
<b class="nc">&nbsp;                machines.get(15).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                chopping.play(soundVolume);</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (targetx == 12 &amp;&amp; targety == 7) {</b>
<b class="nc">&nbsp;            if (invTop == &quot;tomato&quot;) {</b>
<b class="nc">&nbsp;                machines.get(12).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;            } else if (invTop == &quot;lettuce&quot;) {</b>
<b class="nc">&nbsp;                machines.get(14).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;            } else if (invTop == &quot;onion&quot;) {</b>
<b class="nc">&nbsp;                machines.get(16).process(chef, machineUnlockBalance);</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (targetx == 14 &amp;&amp; targety == 4) {</b>
<b class="nc">&nbsp;            chef.removeTopFromInventory();</b>
<b class="nc">&nbsp;            trash.play(soundVolume);</b>
<b class="nc">&nbsp;        } else if (targetx == 8 &amp;&amp; targety == 3) {</b>
<b class="nc">&nbsp;            serveFood();</b>
<b class="nc">&nbsp;        } else if (targetx == 2 &amp;&amp; targety == 3) {</b>
<b class="nc">&nbsp;            addToTray(1);</b>
<b class="nc">&nbsp;        } else if (targetx == 3 &amp;&amp; targety == 3) {</b>
<b class="nc">&nbsp;            addToTray(2);</b>
<b class="nc">&nbsp;        } else if (targetx == 14 &amp;&amp; targety == 5) {</b>
<b class="nc">&nbsp;            if (invTop == &quot;potato&quot;) {</b>
<b class="nc">&nbsp;                machines.get(21).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                grill.play(soundVolume);</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (targetx == 14 &amp;&amp; targety == 6) {</b>
<b class="nc">&nbsp;            if (invTop == &quot;potato&quot;) {</b>
<b class="nc">&nbsp;                machines.get(22).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                grill.play(soundVolume);</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (targetx == 1 &amp;&amp; targety == 5) {</b>
<b class="nc">&nbsp;            if (invTop == &quot;raw pizza&quot;) {</b>
<b class="nc">&nbsp;                machines.get(23).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                grill.play(soundVolume);</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (targetx == 1 &amp;&amp; targety == 6) {</b>
<b class="nc">&nbsp;            if (invTop == &quot;raw pizza&quot;) {</b>
<b class="nc">&nbsp;                machines.get(24).process(chef, machineUnlockBalance);</b>
<b class="nc">&nbsp;                grill.play(soundVolume);</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Adds the top item from the currently selected chef&#39;s inventory to the tray.
&nbsp;     */
&nbsp;    private void addToTray(int station) {
<b class="nc">&nbsp;        Chef chef = chefs.get(selectedChef);</b>
<b class="nc">&nbsp;        Stack&lt;String&gt; inv = chef.getInventory();</b>
<b class="nc">&nbsp;        ArrayList&lt;String&gt; tray = new ArrayList&lt;String&gt;();</b>
<b class="nc">&nbsp;        if (station == 1){</b>
<b class="nc">&nbsp;            tray = tray1;</b>
<b class="nc">&nbsp;        } else if (station == 2){</b>
<b class="nc">&nbsp;            tray = tray2;</b>
<b class="nc">&nbsp;        } else {return;}</b>
&nbsp;
<b class="nc">&nbsp;        if (inv.size() &gt; 0){</b>
&nbsp;            //Hamburger ingredients
<b class="nc">&nbsp;            if (tray.isEmpty() &amp;&amp; inv.peek() == &quot;toasted bun&quot;){</b>
<b class="nc">&nbsp;                inv.pop();</b>
<b class="nc">&nbsp;                tray.add(&quot;toasted bun&quot;);</b>
<b class="nc">&nbsp;            } else if (tray.contains(&quot;toasted bun&quot;) &amp;&amp; inv.peek() == &quot;burger&quot; &amp;&amp; !tray.contains(&quot;burger&quot;)){</b>
<b class="nc">&nbsp;                inv.pop();</b>
<b class="nc">&nbsp;                tray.add(&quot;burger&quot;);</b>
&nbsp;
&nbsp;                //Salad ingredients
<b class="nc">&nbsp;            }else if (tray.isEmpty() &amp;&amp; inv.peek() == &quot;chopped lettuce&quot;){</b>
<b class="nc">&nbsp;                inv.pop();</b>
<b class="nc">&nbsp;                tray.add(&quot;chopped lettuce&quot;);</b>
<b class="nc">&nbsp;            } else if (tray.contains(&quot;chopped lettuce&quot;) &amp;&amp; inv.peek() == &quot;chopped tomato&quot; &amp;&amp; !tray.contains(&quot;chopped tomato&quot;)){</b>
<b class="nc">&nbsp;                inv.pop();</b>
<b class="nc">&nbsp;                tray.add(&quot;chopped tomato&quot;);</b>
<b class="nc">&nbsp;            } else if (tray.contains(&quot;chopped tomato&quot;) &amp;&amp; inv.peek() == &quot;chopped onion&quot; &amp;&amp; !tray.contains(&quot;chopped onion&quot;)){</b>
<b class="nc">&nbsp;                inv.pop();</b>
<b class="nc">&nbsp;                tray.add(&quot;chopped onion&quot;);</b>
&nbsp;
&nbsp;                //Jacket potato ingredients
<b class="nc">&nbsp;            } else if (tray.isEmpty() &amp;&amp; inv.peek() == &quot;jacket&quot;){</b>
<b class="nc">&nbsp;                inv.pop();</b>
<b class="nc">&nbsp;                tray.add(&quot;jacket&quot;);</b>
<b class="nc">&nbsp;            } else if (tray.contains(&quot;jacket&quot;) &amp;&amp; inv.peek() == &quot;beans&quot; &amp;&amp; !tray.contains(&quot;beans&quot;)){</b>
<b class="nc">&nbsp;                inv.pop();</b>
<b class="nc">&nbsp;                tray.add(&quot;beans&quot;);</b>
&nbsp;
&nbsp;                //Raw pizza ingredients
<b class="nc">&nbsp;            } else if (tray.isEmpty() &amp;&amp; inv.peek() == &quot;dough&quot;){</b>
<b class="nc">&nbsp;                inv.pop();</b>
<b class="nc">&nbsp;                tray.add(&quot;dough&quot;);</b>
<b class="nc">&nbsp;            } else if (tray.contains(&quot;dough&quot;) &amp;&amp; inv.peek() == &quot;chopped tomato&quot; &amp;&amp; !tray.contains(&quot;chopped tomato&quot;)){</b>
<b class="nc">&nbsp;                inv.pop();</b>
<b class="nc">&nbsp;                tray.add(&quot;chopped tomato&quot;);</b>
<b class="nc">&nbsp;            } else if (tray.contains(&quot;chopped tomato&quot;) &amp;&amp; inv.peek() == &quot;cheese&quot; &amp;&amp; !tray.contains(&quot;cheese&quot;)){</b>
<b class="nc">&nbsp;                inv.pop();</b>
<b class="nc">&nbsp;                tray.add(&quot;cheese&quot;);</b>
&nbsp;            }
&nbsp;        }
&nbsp;        //Hamburger assembly
<b class="nc">&nbsp;        if (tray.contains(&quot;burger&quot;) &amp;&amp; tray.contains(&quot;toasted bun&quot;)){</b>
<b class="nc">&nbsp;            tray.clear();</b>
<b class="nc">&nbsp;            inv.add(&quot;hamburger&quot;);</b>
<b class="nc">&nbsp;            serving.play(soundVolume);</b>
&nbsp;        }
&nbsp;        //Salad assembly
<b class="nc">&nbsp;        if (tray.contains(&quot;chopped lettuce&quot;) &amp;&amp; tray.contains(&quot;chopped tomato&quot;) &amp;&amp; tray.contains(&quot;chopped onion&quot;)){</b>
<b class="nc">&nbsp;            tray.clear();</b>
<b class="nc">&nbsp;            inv.add(&quot;salad&quot;);</b>
<b class="nc">&nbsp;            serving.play(soundVolume);</b>
&nbsp;        }
&nbsp;        //Jacket potato assembly
<b class="nc">&nbsp;        if (tray.contains(&quot;jacket&quot;) &amp;&amp; tray.contains(&quot;beans&quot;)){</b>
<b class="nc">&nbsp;            tray.clear();</b>
<b class="nc">&nbsp;            inv.add(&quot;jacket potato&quot;);</b>
<b class="nc">&nbsp;            serving.play(soundVolume);</b>
&nbsp;        }
&nbsp;        //Raw pizza assembly
<b class="nc">&nbsp;        if (tray.contains(&quot;dough&quot;) &amp;&amp; tray.contains(&quot;chopped tomato&quot;) &amp;&amp; tray.contains(&quot;cheese&quot;)){</b>
<b class="nc">&nbsp;            tray.clear();</b>
<b class="nc">&nbsp;            inv.add(&quot;raw pizza&quot;);</b>
<b class="nc">&nbsp;            serving.play(soundVolume);</b>
&nbsp;        }
<b class="nc">&nbsp;        if (station == 1){</b>
<b class="nc">&nbsp;            tray1 = tray;</b>
&nbsp;
<b class="nc">&nbsp;        } else if (station == 2){</b>
<b class="nc">&nbsp;            tray2 = tray;</b>
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    private void serveFood(){
<b class="nc">&nbsp;        Chef chef = chefs.get(selectedChef);</b>
<b class="nc">&nbsp;        Stack&lt;String&gt; inv = chef.getInventory();</b>
&nbsp;
<b class="nc">&nbsp;        if (customers.get(0).getOrder() == inv.peek()){</b>
<b class="nc">&nbsp;            inv.pop();</b>
<b class="nc">&nbsp;            customers.remove(0);</b>
<b class="nc">&nbsp;            serving.play(soundVolume);</b>
<b class="nc">&nbsp;            machineUnlockBalance.incrementBalance();</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (customers.size() == 0){</b>
<b class="nc">&nbsp;            game.setScreen(new GameWinScreen(game, (int) totalTimer));</b>
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;}
&nbsp;
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-03-08 11:09</div>
</div>
</body>
</html>
